var Zt=Object.defineProperty;var Ut=(i,t,e)=>t in i?Zt(i,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):i[t]=e;var H=(i,t,e)=>Ut(i,typeof t!="symbol"?t+"":t,e);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))o(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const r of s.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&o(r)}).observe(document,{childList:!0,subtree:!0});function e(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerPolicy&&(s.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?s.credentials="include":n.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function o(n){if(n.ep)return;n.ep=!0;const s=e(n);fetch(n.href,s)}})();const u=class u{static async autoInit(){if(!u.isInitialized)try{console.log("🌐 Auto-initializing LanguageManager...");const t=u.getSavedLanguage();u.currentLanguage=t||"id",await u.loadTranslations(u.currentLanguage),u.setupEventListeners(),u.applyTranslations(),u.isInitialized=!0,console.log(`✅ LanguageManager auto-initialized with: ${u.currentLanguage}`)}catch(t){console.error("❌ LanguageManager auto-init failed:",t)}}static async loadTranslations(t){try{console.log(`📚 Loading translations for: ${t}`);const e=await fetch(`/src/locales/${t}.json`);if(!e.ok)throw new Error(`Failed to load translations for ${t}: ${e.status}`);const o=await e.json();return u.translations.set(t,o),console.log(`✅ Translations loaded for ${t}`),o}catch(e){if(console.error(`❌ Error loading translations for ${t}:`,e),t!=="id")return console.log("🔄 Falling back to Indonesian..."),u.loadTranslations("id");throw e}}static get(t,e=t){try{const o=u.translations.get(u.currentLanguage);if(!o)return console.warn(`No translations loaded for ${u.currentLanguage}`),e;const n=t.split(".");let s=o;for(const r of n)if(s&&typeof s=="object"&&r in s)s=s[r];else return console.warn(`Translation key not found: ${t}`),e;return typeof s=="string"?s:e}catch(o){return console.error(`Error getting translation for key: ${t}`,o),e}}static async setLanguage(t){if(t===u.currentLanguage){console.log(`Language is already set to: ${t}`);return}try{console.log(`🔄 Changing language to: ${t}`),u.translations.has(t)||await u.loadTranslations(t);const e=u.currentLanguage;u.currentLanguage=t,u.saveLanguagePreference(t),document.documentElement.lang=t,u.applyTranslations(),u.updateMetaTags(),window.dispatchEvent(new CustomEvent("languageManagerChanged",{detail:{oldLanguage:e,newLanguage:t,translations:u.translations.get(t)}})),console.log(`✅ Language changed to: ${t}`)}catch(e){throw console.error(`❌ Error changing language to ${t}:`,e),e}}static applyTranslations(){try{console.log("🔄 Applying translations..."),document.querySelectorAll("[data-translate]").forEach(n=>{const s=n.getAttribute("data-translate"),r=u.get(s);r!==s&&(n.textContent=r)}),document.querySelectorAll("[data-translate-placeholder]").forEach(n=>{const s=n.getAttribute("data-translate-placeholder"),r=u.get(s);r!==s&&(n.placeholder=r)}),document.querySelectorAll("[data-translate-title]").forEach(n=>{const s=n.getAttribute("data-translate-title"),r=u.get(s);r!==s&&(n.title=r)}),console.log("🔄 Translations applied to DOM elements")}catch(t){console.error("❌ Error applying translations:",t)}}static updateMetaTags(){try{const t=u.get("meta.title"),e=u.get("meta.description");t!=="meta.title"&&(document.title=t);const o=document.querySelector('meta[name="description"]');o&&e!=="meta.description"&&(o.content=e),console.log("📝 Meta tags updated")}catch(t){console.error("❌ Error updating meta tags:",t)}}static setupEventListeners(){window.addEventListener("languageChanged",t=>{const{language:e}=t.detail;u.setLanguage(e)}),window.addEventListener("componentsLoaded",()=>{console.log("🔄 Components loaded, reapplying translations..."),setTimeout(()=>u.applyTranslations(),100)}),console.log("👂 Language event listeners set up")}static saveLanguagePreference(t){try{localStorage.setItem("MiWebMusicStore_language",t),console.log(`💾 Language preference saved: ${t}`)}catch(e){console.warn("Could not save language preference:",e)}}static getSavedLanguage(){try{const t=localStorage.getItem("MiWebMusicStore_language");if(t&&["id","en","ms"].includes(t))return t;const e=navigator.language.substr(0,2);return["id","en","ms"].includes(e)?e:null}catch(t){return console.warn("Could not load language preference:",t),null}}static getCurrentLanguage(){return u.currentLanguage}static getAvailableLanguages(){return["id","en","ms"]}static isLanguageAvailable(t){return u.getAvailableLanguages().includes(t)}static translateElement(t,e){try{const o=typeof t=="string"?document.querySelector(t):t;if(o){const n=u.get(e);n!==e&&(o.textContent=n)}}catch(o){console.error("Error translating element:",o)}}static getLanguageName(t){return{id:"Bahasa Indonesia",en:"English",ms:"Bahasa Malaysia"}[t]||t}static cleanup(){u.translations.clear(),u.currentLanguage="id",u.isInitialized=!1,console.log("🧹 LanguageManager cleanup completed")}static getStatus(){return{initialized:u.isInitialized,currentLanguage:u.currentLanguage,loadedLanguages:Array.from(u.translations.keys()),availableLanguages:u.getAvailableLanguages()}}};H(u,"currentLanguage","id"),H(u,"translations",new Map),H(u,"isInitialized",!1),document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>u.autoInit()):u.autoInit();let mt=u;const x={defaultVariant:"jazzyblue",variants:{rockelectric:{name:"Electric Rock",inspired:"Rock & Roll",colors:{primary:"#D7263D",primaryDark:"#A81D2B",primaryLight:"#F4436A",secondary:"#23272A",secondaryDark:"#121416",secondaryLight:"#43474B",accent:"#FFD600",accentDark:"#C7A800",accentLight:"#FFEA4D",background:"#191B1F",surface:"#23272A",text:"#F6F6F6",textMuted:"#B0B0B0",success:"#21C95B",warning:"#FFD600",error:"#D7263D",info:"#FFD600"}},jazzyblue:{name:"Smooth Jazz",inspired:"Jazz Modern",colors:{primary:"#5B4B8A",primaryDark:"#3C295A",primaryLight:"#7C6BAF",secondary:"#FFD86B",secondaryDark:"#F3C05B",secondaryLight:"#FFE9A9",accent:"#D72660",accentDark:"#A01B44",accentLight:"#EC658E",background:"#F9F6F2",surface:"#FFFFFF",text:"#232323",textMuted:"#7C6BAF",success:"#2ECC71",warning:"#FFD600",error:"#D72660",info:"#5B4B8A"}},popshine:{name:"Pop Shine",inspired:"Pop Hits",colors:{primary:"#FF4C98",primaryDark:"#CC3A7A",primaryLight:"#FF8FC0",secondary:"#00B7FF",secondaryDark:"#0089C1",secondaryLight:"#6FDBFF",accent:"#FFE156",accentDark:"#C7A800",accentLight:"#FFF599",background:"#FFF7FA",surface:"#FFFFFF",text:"#232323",textMuted:"#888888",success:"#06D6A0",warning:"#FFE156",error:"#FF4C4C",info:"#00B7FF"}},classicgold:{name:"Classic Gold",inspired:"Orkestra Klasik",colors:{primary:"#A67C52",primaryDark:"#7C5A3C",primaryLight:"#D1B08A",secondary:"#E3C16F",secondaryDark:"#B19550",secondaryLight:"#F5E3B6",accent:"#6986A5",accentDark:"#466080",accentLight:"#A5BED6",background:"#F6F3ED",surface:"#FFFFFF",text:"#232323",textMuted:"#A67C52",success:"#4CAF50",warning:"#E3C16F",error:"#D7263D",info:"#6986A5"}},edmneon:{name:"Neon EDM",inspired:"Electronic Dance",colors:{primary:"#00FFB0",primaryDark:"#00C987",primaryLight:"#5CFFD1",secondary:"#0059FF",secondaryDark:"#003FAD",secondaryLight:"#4D93FF",accent:"#FF00C8",accentDark:"#C8009C",accentLight:"#FF5CD9",background:"#18182B",surface:"#23234B",text:"#FAFAFA",textMuted:"#A1A1C9",success:"#00FFB0",warning:"#FFFB00",error:"#FF3B6A",info:"#00FFB0"}},rastavibes:{name:"Rasta Vibes",inspired:"Reggae Roots",colors:{primary:"#E02424",primaryDark:"#A61D1D",primaryLight:"#FF5757",secondary:"#FFD600",secondaryDark:"#C7A800",secondaryLight:"#FFF599",accent:"#00A651",accentDark:"#006837",accentLight:"#53E69B",background:"#F7F7F2",surface:"#FFF",text:"#232323",textMuted:"#888888",success:"#00A651",warning:"#FFD600",error:"#E02424",info:"#00A651"}}}},_t=i=>{const t=x.variants[i];return t?{name:t.name,genre:t.inspired,primaryColor:t.colors.primary,secondaryColor:t.colors.secondary}:null},te=i=>{const t=x.variants[i];return t?Object.entries(t.colors).map(([e,o])=>`--color-${e.replace(/([A-Z])/g,"-$1").toLowerCase()}: ${o};`).join(`
`):""},ee=i=>({rockelectric:"Semangat nge-rock, warnanya bikin panggung panas! 🎸",jazzyblue:"Smooth banget kayak solo saxophone malam minggu. 🎷",popshine:"Cerah ceria kayak chart lagu idol. 🌟",classicgold:"Elegan, kaya konser istana negara. 🎻",edmneon:"Disco warnanya nyala kayak lampu klub! 🕺",rastavibes:"Santai warnanya, vibes Jamaika masuk! 🟩🟨🟥"})[i]||"Warna kece buat semua genre! 🎼";class ne{constructor(){this.currentVariant=this.loadSavedVariant()||x.defaultVariant,this.listeners=[],this.init()}init(){this.applyVariant(this.currentVariant),window.addEventListener("componentsLoaded",()=>{this.refreshVariant()})}loadSavedVariant(){const t=localStorage.getItem("selectedVariant");return t&&x.variants[t]?t:(t&&(console.warn(`⚠️ Saved variant "${t}" not found in config, resetting to default`),localStorage.removeItem("selectedVariant")),null)}saveVariant(t){localStorage.setItem("selectedVariant",t)}applyVariant(t){const e=x.variants[t];if(!e){console.error(`❌ Variant "${t}" not found. Available variants:`,Object.keys(x.variants));const n=x.defaultVariant;x.variants[n]&&(console.log(`🔄 Falling back to default variant: ${n}`),this.applyVariant(n));return}const o=document.documentElement;Object.entries(e.colors).forEach(([n,s])=>{o.style.setProperty(`--color-${this.camelToKebab(n)}`,s)}),document.body.className=document.body.className.replace(/\bvariant-\w+\b/g,"").trim(),document.body.classList.add(`variant-${t}`),document.body.setAttribute("data-variant",t),this.currentVariant=t,this.saveVariant(t),this.notifyListeners(t)}camelToKebab(t){return t.replace(/([a-z0-9]|(?=[A-Z]))([A-Z])/g,"$1-$2").toLowerCase()}setVariant(t){x.variants[t]&&this.applyVariant(t)}getVariant(){return this.currentVariant}getVariantConfig(){return x.variants[this.currentVariant]}getVariantInspiration(t=this.currentVariant){return _t(t)}getVariantCSSVariables(t=this.currentVariant){return te(t)}getVariantPlesetan(t=this.currentVariant){return ee(t)}getAllVariants(){return Object.keys(x.variants).map(t=>({id:t,...x.variants[t],inspiration:this.getVariantInspiration(t),plesetan:this.getVariantPlesetan(t)}))}refreshVariant(){this.applyVariant(this.currentVariant)}onVariantChange(t){this.listeners.push(t)}notifyListeners(t){this.listeners.forEach(e=>e(t))}}const P=new ne;class oe{constructor(){this.currentLang="id",this.isOpen=!1,this.languages={id:"Bahasa Indonesia",en:"English",ms:"Bahasa Malaysia"},this.init()}init(){this.loadSavedLanguage(),this.waitForComponent(),console.log("🌐 Language Selector initialized")}waitForComponent(){console.log("🔍 Waiting for language-selector component...");const t=()=>{const e=document.getElementById("language-selector");console.log("🔍 Checking for #language-selector:",!!e),e?(console.log("✅ Language selector component found!"),this.bindEvents(),this.updateDisplay(),console.log("✅ Language selector initialized successfully")):(console.log("⏳ Language selector not found, retrying..."),setTimeout(t,200))};t()}bindEvents(){const t=document.getElementById("lang-toggle-btn"),e=document.querySelectorAll(".lang-option");console.log("🔧 Binding events..."),console.log("Toggle button found:",!!t),console.log("Language options found:",e.length),t&&t.addEventListener("click",n=>{n.stopPropagation(),console.log("🖱️ Toggle button clicked!"),this.toggleMenu()}),e.forEach(n=>{n.addEventListener("click",s=>{s.stopPropagation();const r=n.getAttribute("data-lang"),a=n.getAttribute("data-name");console.log(`🌐 Language selected: ${r} (${a})`),this.selectLanguage(r,a)})}),document.addEventListener("click",()=>{this.isOpen&&(console.log("👆 Outside click - closing menu"),this.closeMenu())});const o=document.getElementById("lang-options");o&&o.addEventListener("click",n=>{n.stopPropagation()}),document.addEventListener("keydown",n=>{n.key==="Escape"&&this.isOpen&&(console.log("⌨️ Escape pressed - closing menu"),this.closeMenu())}),console.log("✅ Event listeners bound successfully")}toggleMenu(){console.log(`🔄 Toggling menu. Currently open: ${this.isOpen}`),this.isOpen?this.closeMenu():this.openMenu()}openMenu(){const t=document.getElementById("lang-options");console.log("📂 Opening menu...",!!t),t?(t.classList.remove("scale-0","opacity-0"),t.classList.add("scale-100","opacity-100"),t.style.transform="scale(1)",t.style.opacity="1",t.style.visibility="visible",this.isOpen=!0,console.log("✅ Menu opened")):console.error("❌ Menu element not found!")}closeMenu(){const t=document.getElementById("lang-options");console.log("📁 Closing menu...",!!t),t&&(t.classList.remove("scale-100","opacity-100"),t.classList.add("scale-0","opacity-0"),t.style.transform="scale(0)",t.style.opacity="0",t.style.visibility="hidden",this.isOpen=!1,console.log("✅ Menu closed"))}selectLanguage(t,e){this.currentLang=t,this.updateDisplay(),this.saveLanguagePreference(t),this.closeMenu(),window.dispatchEvent(new CustomEvent("languageChanged",{detail:{language:t,name:e}})),this.showNotification(`Language changed to ${e}`),console.log(`🌐 Language changed to: ${e} (${t})`)}updateDisplay(){const t=document.getElementById("current-lang-display");t&&(t.textContent=this.currentLang.toUpperCase()),document.querySelectorAll(".lang-option").forEach(e=>{const n=e.getAttribute("data-lang")===this.currentLang,s=e.querySelector(".lang-active");s&&s.classList.toggle("hidden",!n)})}saveLanguagePreference(t){try{localStorage.setItem("MiWebMusicStore_language",t),document.documentElement.lang=t}catch(e){console.warn("Could not save language preference:",e)}}loadSavedLanguage(){try{const t=localStorage.getItem("MiWebMusicStore_language");if(t&&["id","en","ms"].includes(t))this.currentLang=t;else{const e=navigator.language.substr(0,2);["id","en","ms"].includes(e)&&(this.currentLang=e)}}catch(t){console.warn("Could not load language preference:",t),this.currentLang="id"}}showNotification(t){let e=document.getElementById("lang-notification");e||(e=document.createElement("div"),e.id="lang-notification",e.style.cssText=`
        position: fixed;
        top: 20px;
        right: 20px;
        background: #10b981;
        color: white;
        padding: 12px 20px;
        border-radius: 8px;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        transform: translateX(100%);
        transition: transform 0.3s ease;
        z-index: 10000;
        font-weight: 500;
      `,document.body.appendChild(e)),e.textContent=t,e.style.transform="translateX(0)",setTimeout(()=>{e.style.transform="translateX(100%)"},3e3)}getCurrentLanguage(){return this.currentLang}changeLanguage(t){const e={id:"Bahasa Indonesia",en:"English",ms:"Bahasa Malaysia"};e[t]&&this.selectLanguage(t,e[t])}}let Q=null;function st(){console.log("🚀 Initializing Language Selector..."),Q?console.log("⚠️ Language Selector already exists"):(Q=new oe,window.languageSelector=Q,console.log("✅ Language Selector instance created"))}document.readyState==="loading"?(console.log("📄 DOM loading, waiting for DOMContentLoaded..."),document.addEventListener("DOMContentLoaded",st)):(console.log("📄 DOM already ready, initializing immediately..."),st());window.addEventListener("componentsLoaded",()=>{console.log("📦 Components loaded event received"),Q||(console.log("🔄 Retrying Language Selector initialization..."),st())});class ie{constructor(){this.isOpen=!1,this.skipNotification=!1,console.log("🎨 VariantSelector constructor called"),this.init()}init(){this.waitForComponent().then(()=>{this.attachEventListeners();const t=P.getVariant();t&&this.updateActiveVariant(t),P.onVariantChange(e=>{if(this.updateActiveVariant(e),!this.skipNotification){const o=document.querySelector(`[data-variant="${e}"]`),n=o&&o.dataset.name?o.dataset.name:e;this.showNotification(`Variant applied: ${n}`)}this.skipNotification=!1}),console.log("✅ VariantSelector initialized successfully")})}async waitForComponent(){return console.log("🎨 Waiting for variant component to load..."),new Promise(t=>{const e=()=>{document.getElementById("variant-toggle-btn")?(console.log("✅ Variant component found!"),t()):(console.log("⏳ Variant component not found, retrying..."),setTimeout(e,100))};e()})}attachEventListeners(){const t=document.getElementById("variant-toggle-btn"),e=document.getElementById("variant-options");if(!t||!e){console.error("❌ VariantSelector: Required elements not found");return}t.addEventListener("click",o=>{o.stopPropagation(),this.togglePanel()}),document.addEventListener("click",o=>{if(!this.isOpen||t.contains(o.target)||e.contains(o.target))return;const n=o.target;if(n.closest(".headerOffCanvas__toggle")||n.closest("#offcanvas-toggle")||n.closest("#offcanvas-panel")||n.closest("#offcanvas-overlay")||n.closest("#lang-toggle-btn")||n.closest("#lang-options")||n.closest(".language-selector")||n.closest(".variant-notification")||n.closest('[role="dialog"]')||n.closest('[role="menu"]')){console.log("🛡️ Click on UI component detected, not closing variant panel");return}this.closePanel()}),document.addEventListener("keydown",o=>{o.key==="Escape"&&this.isOpen&&(console.log("⌨️ Escape pressed - closing variant panel"),this.closePanel())}),document.addEventListener("click",o=>{const n=o.target.closest(".variant-option");if(n&&this.isOpen){const s=n.dataset.variant,r=n.dataset.name;console.log(`🎨 Variant selected: ${s}`),this.skipNotification=!0,P.setVariant(s),this.showNotification(`Variant changed to ${r}`),n.classList.add("scale-95"),setTimeout(()=>{n.classList.remove("scale-95"),this.closePanel()},150)}}),console.log("👂 VariantSelector event listeners attached")}togglePanel(){this.isOpen?this.closePanel():this.openPanel()}openPanel(){const t=document.getElementById("variant-options");t&&(t.style.transform="scale(1)",t.style.opacity="1",t.classList.remove("scale-0","opacity-0"),t.classList.add("scale-100","opacity-100"),this.isOpen=!0,console.log("🎨 Variant panel opened"),window.dispatchEvent(new CustomEvent("variantpanel:open")))}closePanel(){const t=document.getElementById("variant-options");t&&this.isOpen&&(t.style.transform="scale(0)",t.style.opacity="0",t.classList.remove("scale-100","opacity-100"),t.classList.add("scale-0","opacity-0"),this.isOpen=!1,console.log("🎨 Variant panel closed"),window.dispatchEvent(new CustomEvent("variantpanel:close")))}updateActiveVariant(t){if(!t){console.warn("⚠️ updateActiveVariant called with undefined variant");return}console.log(`🎨 Updating active variant to: ${t}`);const e=document.getElementById("current-variant-display");if(e){const o=document.querySelector(`[data-variant="${t}"]`);let n;o&&o.dataset.name?n=o.dataset.name.toUpperCase():n=t.toUpperCase(),e.textContent=n}document.querySelectorAll(".variant-option").forEach(o=>{const n=o.querySelector(".variant-active");n&&(o.dataset.variant===t?(n.classList.remove("hidden"),o.classList.add("active")):(n.classList.add("hidden"),o.classList.remove("active")))}),document.body.setAttribute("data-current-variant",t)}showNotification(t){let e=document.getElementById("variant-notification");if(!e){e=document.createElement("div"),e.id="variant-notification",e.className="variant-notification",e.style.cssText=`
        position: fixed;
        top: 80px;
        right: 20px;
        background: linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%);
        color: white;
        padding: 12px 16px;
        border-radius: 12px;
        box-shadow: 0 10px 25px rgba(139, 92, 246, 0.3);
        transform: translateX(100%);
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        z-index: 10000;
        font-weight: 500;
        font-size: 14px;
        display: flex;
        align-items: center;
        gap: 10px;
        max-width: 280px;
        border: 1px solid rgba(255, 255, 255, 0.2);
        backdrop-filter: blur(10px);
      `;const n=document.createElement("div");n.innerHTML="🎨",n.style.cssText=`
        font-size: 16px;
        flex-shrink: 0;
      `,e.appendChild(n);const s=document.createElement("div");s.style.cssText="flex: 1; min-width: 0;",e.appendChild(s);const r=document.createElement("button");r.innerHTML="×",r.style.cssText=`
        background: none;
        border: none;
        color: white;
        font-size: 18px;
        font-weight: bold;
        cursor: pointer;
        padding: 0;
        width: 20px;
        height: 20px;
        display: flex;
        align-items: center;
        justify-content: center;
        border-radius: 50%;
        transition: background-color 0.2s;
        flex-shrink: 0;
      `,r.addEventListener("click",()=>{e.style.transform="translateX(100%)"}),r.addEventListener("mouseenter",()=>{r.style.backgroundColor="rgba(255, 255, 255, 0.2)"}),r.addEventListener("mouseleave",()=>{r.style.backgroundColor="transparent"}),e.appendChild(r),document.body.appendChild(e)}const o=e.querySelector("div:nth-child(2)");o&&(o.textContent=t),e.style.transform="translateX(0)",setTimeout(()=>{e&&e.style.transform==="translateX(0px)"&&(e.style.transform="translateX(100%)")},4e3)}getCurrentVariant(){return P.getVariant()}changeVariant(t){const e=document.querySelector(`[data-variant="${t}"]`);if(e){const o=e.dataset.name;this.skipNotification=!0,P.setVariant(t),this.showNotification(`Variant changed to ${o}`),console.log(`🎨 Variant changed programmatically to: ${o} (${t})`)}else console.warn(`⚠️ Variant ${t} not found`)}}let K=null;function rt(){console.log("🚀 Initializing Variant Selector..."),K?console.log("⚠️ Variant Selector already exists"):(K=new ie,window.variantSelector=K,console.log("✅ Variant Selector instance created"))}document.readyState==="loading"?(console.log("📄 DOM loading, waiting for DOMContentLoaded..."),document.addEventListener("DOMContentLoaded",rt)):(console.log("📄 DOM already ready, initializing immediately..."),rt());window.addEventListener("componentsLoaded",()=>{console.log("📦 Components loaded event received"),K||(console.log("🔄 Retrying Variant Selector initialization..."),rt())});/**
* (c) Iconify
*
* For the full copyright and license information, please view the license.txt
* files at https://github.com/iconify/iconify
*
* Licensed under MIT.
*
* @license MIT
* @version 3.0.0
*/const Dt=Object.freeze({left:0,top:0,width:16,height:16}),G=Object.freeze({rotate:0,vFlip:!1,hFlip:!1}),R=Object.freeze({...Dt,...G}),at=Object.freeze({...R,body:"",hidden:!1}),se=Object.freeze({width:null,height:null}),Pt=Object.freeze({...se,...G});function re(i,t=0){const e=i.replace(/^-?[0-9.]*/,"");function o(n){for(;n<0;)n+=4;return n%4}if(e===""){const n=parseInt(i);return isNaN(n)?0:o(n)}else if(e!==i){let n=0;switch(e){case"%":n=25;break;case"deg":n=90}if(n){let s=parseFloat(i.slice(0,i.length-e.length));return isNaN(s)?0:(s=s/n,s%1===0?o(s):0)}}return t}const ae=/[\s,]+/;function ce(i,t){t.split(ae).forEach(e=>{switch(e.trim()){case"horizontal":i.hFlip=!0;break;case"vertical":i.vFlip=!0;break}})}const Mt={...Pt,preserveAspectRatio:""};function yt(i){const t={...Mt},e=(o,n)=>i.getAttribute(o)||n;return t.width=e("width",null),t.height=e("height",null),t.rotate=re(e("rotate","")),ce(t,e("flip","")),t.preserveAspectRatio=e("preserveAspectRatio",e("preserveaspectratio","")),t}function le(i,t){for(const e in Mt)if(i[e]!==t[e])return!0;return!1}const Vt=/^[a-z0-9]+(-[a-z0-9]+)*$/,j=(i,t,e,o="")=>{const n=i.split(":");if(i.slice(0,1)==="@"){if(n.length<2||n.length>3)return null;o=n.shift().slice(1)}if(n.length>3||!n.length)return null;if(n.length>1){const a=n.pop(),c=n.pop(),l={provider:n.length>0?n[0]:o,prefix:c,name:a};return t&&!X(l)?null:l}const s=n[0],r=s.split("-");if(r.length>1){const a={provider:o,prefix:r.shift(),name:r.join("-")};return t&&!X(a)?null:a}if(e&&o===""){const a={provider:o,prefix:"",name:s};return t&&!X(a,e)?null:a}return null},X=(i,t)=>i?!!((t&&i.prefix===""||i.prefix)&&i.name):!1;function de(i,t){const e={};!i.hFlip!=!t.hFlip&&(e.hFlip=!0),!i.vFlip!=!t.vFlip&&(e.vFlip=!0);const o=((i.rotate||0)+(t.rotate||0))%4;return o&&(e.rotate=o),e}function bt(i,t){const e=de(i,t);for(const o in at)o in G?o in i&&!(o in e)&&(e[o]=G[o]):o in t?e[o]=t[o]:o in i&&(e[o]=i[o]);return e}function ue(i,t){const e=i.icons,o=i.aliases||Object.create(null),n=Object.create(null);function s(r){if(e[r])return n[r]=[];if(!(r in n)){n[r]=null;const a=o[r]&&o[r].parent,c=a&&s(a);c&&(n[r]=[a].concat(c))}return n[r]}return Object.keys(e).concat(Object.keys(o)).forEach(s),n}function fe(i,t,e){const o=i.icons,n=i.aliases||Object.create(null);let s={};function r(a){s=bt(o[a]||n[a],s)}return r(t),e.forEach(r),bt(i,s)}function zt(i,t){const e=[];if(typeof i!="object"||typeof i.icons!="object")return e;i.not_found instanceof Array&&i.not_found.forEach(n=>{t(n,null),e.push(n)});const o=ue(i);for(const n in o){const s=o[n];s&&(t(n,fe(i,n,s)),e.push(n))}return e}const ge={provider:"",aliases:{},not_found:{},...Dt};function nt(i,t){for(const e in t)if(e in i&&typeof i[e]!=typeof t[e])return!1;return!0}function Bt(i){if(typeof i!="object"||i===null)return null;const t=i;if(typeof t.prefix!="string"||!i.icons||typeof i.icons!="object"||!nt(i,ge))return null;const e=t.icons;for(const n in e){const s=e[n];if(!n||typeof s.body!="string"||!nt(s,at))return null}const o=t.aliases||Object.create(null);for(const n in o){const s=o[n],r=s.parent;if(!n||typeof r!="string"||!e[r]&&!o[r]||!nt(s,at))return null}return t}const W=Object.create(null);function he(i,t){return{provider:i,prefix:t,icons:Object.create(null),missing:new Set}}function F(i,t){const e=W[i]||(W[i]=Object.create(null));return e[t]||(e[t]=he(i,t))}function qt(i,t){return Bt(t)?zt(t,(e,o)=>{o?i.icons[e]=o:i.missing.add(e)}):[]}function pe(i,t,e){try{if(typeof e.body=="string")return i.icons[t]={...e},!0}catch{}return!1}function me(i,t){let e=[];return(typeof i=="string"?[i]:Object.keys(W)).forEach(n=>{(typeof n=="string"&&typeof t=="string"?[t]:Object.keys(W[n]||{})).forEach(r=>{const a=F(n,r);e=e.concat(Object.keys(a.icons).map(c=>(n!==""?"@"+n+":":"")+r+":"+c))})}),e}let B=!1;function Rt(i){return typeof i=="boolean"&&(B=i),B}function q(i){const t=typeof i=="string"?j(i,!0,B):i;if(t){const e=F(t.provider,t.prefix),o=t.name;return e.icons[o]||(e.missing.has(o)?null:void 0)}}function jt(i,t){const e=j(i,!0,B);if(!e)return!1;const o=F(e.provider,e.prefix);return t?pe(o,e.name,t):(o.missing.add(e.name),!0)}function vt(i,t){if(typeof i!="object")return!1;if(typeof t!="string"&&(t=i.provider||""),B&&!t&&!i.prefix){let n=!1;return Bt(i)&&(i.prefix="",zt(i,(s,r)=>{jt(s,r)&&(n=!0)})),n}const e=i.prefix;if(!X({prefix:e,name:"a"}))return!1;const o=F(t,e);return!!qt(o,i)}function ye(i){return!!q(i)}function be(i){const t=q(i);return t&&{...R,...t}}function ve(i){const t={loaded:[],missing:[],pending:[]},e=Object.create(null);i.sort((n,s)=>n.provider!==s.provider?n.provider.localeCompare(s.provider):n.prefix!==s.prefix?n.prefix.localeCompare(s.prefix):n.name.localeCompare(s.name));let o={provider:"",prefix:"",name:""};return i.forEach(n=>{if(o.name===n.name&&o.prefix===n.prefix&&o.provider===n.provider)return;o=n;const s=n.provider,r=n.prefix,a=n.name,c=e[s]||(e[s]=Object.create(null)),l=c[r]||(c[r]=F(s,r));let d;a in l.icons?d=t.loaded:r===""||l.missing.has(a)?d=t.missing:d=t.pending;const f={provider:s,prefix:r,name:a};d.push(f)}),t}function Nt(i,t){i.forEach(e=>{const o=e.loaderCallbacks;o&&(e.loaderCallbacks=o.filter(n=>n.id!==t))})}function we(i){i.pendingCallbacksFlag||(i.pendingCallbacksFlag=!0,setTimeout(()=>{i.pendingCallbacksFlag=!1;const t=i.loaderCallbacks?i.loaderCallbacks.slice(0):[];if(!t.length)return;let e=!1;const o=i.provider,n=i.prefix;t.forEach(s=>{const r=s.icons,a=r.pending.length;r.pending=r.pending.filter(c=>{if(c.prefix!==n)return!0;const l=c.name;if(i.icons[l])r.loaded.push({provider:o,prefix:n,name:l});else if(i.missing.has(l))r.missing.push({provider:o,prefix:n,name:l});else return e=!0,!0;return!1}),r.pending.length!==a&&(e||Nt([i],s.id),s.callback(r.loaded.slice(0),r.missing.slice(0),r.pending.slice(0),s.abort))})}))}let Ee=0;function xe(i,t,e){const o=Ee++,n=Nt.bind(null,e,o);if(!t.pending.length)return n;const s={id:o,icons:t,callback:i,abort:n};return e.forEach(r=>{(r.loaderCallbacks||(r.loaderCallbacks=[])).push(s)}),n}const ct=Object.create(null);function wt(i,t){ct[i]=t}function lt(i){return ct[i]||ct[""]}function Le(i,t=!0,e=!1){const o=[];return i.forEach(n=>{const s=typeof n=="string"?j(n,t,e):n;s&&o.push(s)}),o}var Ce={resources:[],index:0,timeout:2e3,rotate:750,random:!1,dataAfterTimeout:!1};function ke(i,t,e,o){const n=i.resources.length,s=i.random?Math.floor(Math.random()*n):i.index;let r;if(i.random){let y=i.resources.slice(0);for(r=[];y.length>1;){const k=Math.floor(Math.random()*y.length);r.push(y[k]),y=y.slice(0,k).concat(y.slice(k+1))}r=r.concat(y)}else r=i.resources.slice(s).concat(i.resources.slice(0,s));const a=Date.now();let c="pending",l=0,d,f=null,h=[],w=[];typeof o=="function"&&w.push(o);function S(){f&&(clearTimeout(f),f=null)}function T(){c==="pending"&&(c="aborted"),S(),h.forEach(y=>{y.status==="pending"&&(y.status="aborted")}),h=[]}function E(y,k){k&&(w=[]),typeof y=="function"&&w.push(y)}function tt(){return{startTime:a,payload:t,status:c,queriesSent:l,queriesPending:h.length,subscribe:E,abort:T}}function $(){c="failed",w.forEach(y=>{y(void 0,d)})}function I(){h.forEach(y=>{y.status==="pending"&&(y.status="aborted")}),h=[]}function C(y,k,D){const N=k!=="success";switch(h=h.filter(O=>O!==y),c){case"pending":break;case"failed":if(N||!i.dataAfterTimeout)return;break;default:return}if(k==="abort"){d=D,$();return}if(N){d=D,h.length||(r.length?et():$());return}if(S(),I(),!i.random){const O=i.resources.indexOf(y.resource);O!==-1&&O!==i.index&&(i.index=O)}c="completed",w.forEach(O=>{O(D)})}function et(){if(c!=="pending")return;S();const y=r.shift();if(y===void 0){if(h.length){f=setTimeout(()=>{S(),c==="pending"&&(I(),$())},i.timeout);return}$();return}const k={status:"pending",resource:y,callback:(D,N)=>{C(k,D,N)}};h.push(k),l++,f=setTimeout(et,i.rotate),e(y,t,k.callback)}return setTimeout(et),tt}function Ht(i){const t={...Ce,...i};let e=[];function o(){e=e.filter(a=>a().status==="pending")}function n(a,c,l){const d=ke(t,a,c,(f,h)=>{o(),l&&l(f,h)});return e.push(d),d}function s(a){return e.find(c=>a(c))||null}return{query:n,find:s,setIndex:a=>{t.index=a},getIndex:()=>t.index,cleanup:o}}function gt(i){let t;if(typeof i.resources=="string")t=[i.resources];else if(t=i.resources,!(t instanceof Array)||!t.length)return null;return{resources:t,path:i.path||"/",maxURL:i.maxURL||500,rotate:i.rotate||750,timeout:i.timeout||5e3,random:i.random===!0,index:i.index||0,dataAfterTimeout:i.dataAfterTimeout!==!1}}const U=Object.create(null),M=["https://api.simplesvg.com","https://api.unisvg.com"],Y=[];for(;M.length>0;)M.length===1||Math.random()>.5?Y.push(M.shift()):Y.push(M.pop());U[""]=gt({resources:["https://api.iconify.design"].concat(Y)});function Et(i,t){const e=gt(t);return e===null?!1:(U[i]=e,!0)}function _(i){return U[i]}function Ie(){return Object.keys(U)}function xt(){}const ot=Object.create(null);function Ae(i){if(!ot[i]){const t=_(i);if(!t)return;const e=Ht(t),o={config:t,redundancy:e};ot[i]=o}return ot[i]}function Qt(i,t,e){let o,n;if(typeof i=="string"){const s=lt(i);if(!s)return e(void 0,424),xt;n=s.send;const r=Ae(i);r&&(o=r.redundancy)}else{const s=gt(i);if(s){o=Ht(s);const r=i.resources?i.resources[0]:"",a=lt(r);a&&(n=a.send)}}return!o||!n?(e(void 0,424),xt):o.query(t,n,e)().abort}function Lt(){}function Fe(i){i.iconsLoaderFlag||(i.iconsLoaderFlag=!0,setTimeout(()=>{i.iconsLoaderFlag=!1,we(i)}))}function Se(i){const t=[],e=[];return i.forEach(o=>{(o.match(Vt)?t:e).push(o)}),{valid:t,invalid:e}}function V(i,t,e){function o(){const n=i.pendingIcons;t.forEach(s=>{n&&n.delete(s),i.icons[s]||i.missing.add(s)})}if(e&&typeof e=="object")try{if(!qt(i,e).length){o();return}}catch(n){console.error(n)}o(),Fe(i)}function Ct(i,t){i instanceof Promise?i.then(e=>{t(e)}).catch(()=>{t(null)}):t(i)}function Te(i,t){i.iconsToLoad?i.iconsToLoad=i.iconsToLoad.concat(t).sort():i.iconsToLoad=t,i.iconsQueueFlag||(i.iconsQueueFlag=!0,setTimeout(()=>{i.iconsQueueFlag=!1;const{provider:e,prefix:o}=i,n=i.iconsToLoad;if(delete i.iconsToLoad,!n||!n.length)return;const s=i.loadIcon;if(i.loadIcons&&(n.length>1||!s)){Ct(i.loadIcons(n,o,e),d=>{V(i,n,d)});return}if(s){n.forEach(d=>{const f=s(d,o,e);Ct(f,h=>{const w=h?{prefix:o,icons:{[d]:h}}:null;V(i,[d],w)})});return}const{valid:r,invalid:a}=Se(n);if(a.length&&V(i,a,null),!r.length)return;const c=o.match(Vt)?lt(e):null;if(!c){V(i,r,null);return}c.prepare(e,o,r).forEach(d=>{Qt(e,d,f=>{V(i,d.icons,f)})})}))}const ht=(i,t)=>{const e=Le(i,!0,Rt()),o=ve(e);if(!o.pending.length){let c=!0;return t&&setTimeout(()=>{c&&t(o.loaded,o.missing,o.pending,Lt)}),()=>{c=!1}}const n=Object.create(null),s=[];let r,a;return o.pending.forEach(c=>{const{provider:l,prefix:d}=c;if(d===a&&l===r)return;r=l,a=d,s.push(F(l,d));const f=n[l]||(n[l]=Object.create(null));f[d]||(f[d]=[])}),o.pending.forEach(c=>{const{provider:l,prefix:d,name:f}=c,h=F(l,d),w=h.pendingIcons||(h.pendingIcons=new Set);w.has(f)||(w.add(f),n[l][d].push(f))}),s.forEach(c=>{const l=n[c.provider][c.prefix];l.length&&Te(c,l)}),t?xe(t,o,s):Lt},$e=i=>new Promise((t,e)=>{const o=typeof i=="string"?j(i,!0):i;if(!o){e(i);return}ht([o||i],n=>{if(n.length&&o){const s=q(o);if(s){t({...R,...s});return}}e(i)})});function kt(i){try{const t=typeof i=="string"?JSON.parse(i):i;if(typeof t.body=="string")return{...t}}catch{}}function Oe(i,t){if(typeof i=="object")return{data:kt(i),value:i};if(typeof i!="string")return{value:i};if(i.includes("{")){const s=kt(i);if(s)return{data:s,value:i}}const e=j(i,!0,!0);if(!e)return{value:i};const o=q(e);if(o!==void 0||!e.prefix)return{value:i,name:e,data:o};const n=ht([e],()=>t(i,e,q(e)));return{value:i,name:e,loading:n}}let Kt=!1;try{Kt=navigator.vendor.indexOf("Apple")===0}catch{}function De(i,t){switch(t){case"svg":case"bg":case"mask":return t}return t!=="style"&&(Kt||i.indexOf("<a")===-1)?"svg":i.indexOf("currentColor")===-1?"bg":"mask"}const Pe=/(-?[0-9.]*[0-9]+[0-9.]*)/g,Me=/^-?[0-9.]*[0-9]+[0-9.]*$/g;function dt(i,t,e){if(t===1)return i;if(e=e||100,typeof i=="number")return Math.ceil(i*t*e)/e;if(typeof i!="string")return i;const o=i.split(Pe);if(o===null||!o.length)return i;const n=[];let s=o.shift(),r=Me.test(s);for(;;){if(r){const a=parseFloat(s);isNaN(a)?n.push(s):n.push(Math.ceil(a*t*e)/e)}else n.push(s);if(s=o.shift(),s===void 0)return n.join("");r=!r}}function Ve(i,t="defs"){let e="";const o=i.indexOf("<"+t);for(;o>=0;){const n=i.indexOf(">",o),s=i.indexOf("</"+t);if(n===-1||s===-1)break;const r=i.indexOf(">",s);if(r===-1)break;e+=i.slice(n+1,s).trim(),i=i.slice(0,o).trim()+i.slice(r+1)}return{defs:e,content:i}}function ze(i,t){return i?"<defs>"+i+"</defs>"+t:t}function Be(i,t,e){const o=Ve(i);return ze(o.defs,t+o.content+e)}const qe=i=>i==="unset"||i==="undefined"||i==="none";function Xt(i,t){const e={...R,...i},o={...Pt,...t},n={left:e.left,top:e.top,width:e.width,height:e.height};let s=e.body;[e,o].forEach(T=>{const E=[],tt=T.hFlip,$=T.vFlip;let I=T.rotate;tt?$?I+=2:(E.push("translate("+(n.width+n.left).toString()+" "+(0-n.top).toString()+")"),E.push("scale(-1 1)"),n.top=n.left=0):$&&(E.push("translate("+(0-n.left).toString()+" "+(n.height+n.top).toString()+")"),E.push("scale(1 -1)"),n.top=n.left=0);let C;switch(I<0&&(I-=Math.floor(I/4)*4),I=I%4,I){case 1:C=n.height/2+n.top,E.unshift("rotate(90 "+C.toString()+" "+C.toString()+")");break;case 2:E.unshift("rotate(180 "+(n.width/2+n.left).toString()+" "+(n.height/2+n.top).toString()+")");break;case 3:C=n.width/2+n.left,E.unshift("rotate(-90 "+C.toString()+" "+C.toString()+")");break}I%2===1&&(n.left!==n.top&&(C=n.left,n.left=n.top,n.top=C),n.width!==n.height&&(C=n.width,n.width=n.height,n.height=C)),E.length&&(s=Be(s,'<g transform="'+E.join(" ")+'">',"</g>"))});const r=o.width,a=o.height,c=n.width,l=n.height;let d,f;r===null?(f=a===null?"1em":a==="auto"?l:a,d=dt(f,c/l)):(d=r==="auto"?c:r,f=a===null?dt(d,l/c):a==="auto"?l:a);const h={},w=(T,E)=>{qe(E)||(h[T]=E.toString())};w("width",d),w("height",f);const S=[n.left,n.top,c,l];return h.viewBox=S.join(" "),{attributes:h,viewBox:S,body:s}}function pt(i,t){let e=i.indexOf("xlink:")===-1?"":' xmlns:xlink="http://www.w3.org/1999/xlink"';for(const o in t)e+=" "+o+'="'+t[o]+'"';return'<svg xmlns="http://www.w3.org/2000/svg"'+e+">"+i+"</svg>"}function Re(i){return i.replace(/"/g,"'").replace(/%/g,"%25").replace(/#/g,"%23").replace(/</g,"%3C").replace(/>/g,"%3E").replace(/\s+/g," ")}function je(i){return"data:image/svg+xml,"+Re(i)}function Yt(i){return'url("'+je(i)+'")'}const Ne=()=>{let i;try{if(i=fetch,typeof i=="function")return i}catch{}};let J=Ne();function He(i){J=i}function Qe(){return J}function Ke(i,t){const e=_(i);if(!e)return 0;let o;if(!e.maxURL)o=0;else{let n=0;e.resources.forEach(r=>{n=Math.max(n,r.length)});const s=t+".json?icons=";o=e.maxURL-n-e.path.length-s.length}return o}function Xe(i){return i===404}const Ye=(i,t,e)=>{const o=[],n=Ke(i,t),s="icons";let r={type:s,provider:i,prefix:t,icons:[]},a=0;return e.forEach((c,l)=>{a+=c.length+1,a>=n&&l>0&&(o.push(r),r={type:s,provider:i,prefix:t,icons:[]},a=c.length),r.icons.push(c)}),o.push(r),o};function Ge(i){if(typeof i=="string"){const t=_(i);if(t)return t.path}return"/"}const We=(i,t,e)=>{if(!J){e("abort",424);return}let o=Ge(t.provider);switch(t.type){case"icons":{const s=t.prefix,a=t.icons.join(","),c=new URLSearchParams({icons:a});o+=s+".json?"+c.toString();break}case"custom":{const s=t.uri;o+=s.slice(0,1)==="/"?s.slice(1):s;break}default:e("abort",400);return}let n=503;J(i+o).then(s=>{const r=s.status;if(r!==200){setTimeout(()=>{e(Xe(r)?"abort":"next",r)});return}return n=501,s.json()}).then(s=>{if(typeof s!="object"||s===null){setTimeout(()=>{s===404?e("abort",s):e("next",n)});return}setTimeout(()=>{e("success",s)})}).catch(()=>{e("next",n)})},Je={prepare:Ye,send:We};function Ze(i,t,e){F(e||"",t).loadIcons=i}function Ue(i,t,e){F(e||"",t).loadIcon=i}const it="data-style";let Gt="";function _e(i){Gt=i}function It(i,t){let e=Array.from(i.childNodes).find(o=>o.hasAttribute&&o.hasAttribute(it));e||(e=document.createElement("style"),e.setAttribute(it,it),i.appendChild(e)),e.textContent=":host{display:inline-block;vertical-align:"+(t?"-0.125em":"0")+"}span,svg{display:block;margin:auto}"+Gt}function Wt(){wt("",Je),Rt(!0);let i;try{i=window}catch{}if(i){if(i.IconifyPreload!==void 0){const e=i.IconifyPreload,o="Invalid IconifyPreload syntax.";typeof e=="object"&&e!==null&&(e instanceof Array?e:[e]).forEach(n=>{try{(typeof n!="object"||n===null||n instanceof Array||typeof n.icons!="object"||typeof n.prefix!="string"||!vt(n))&&console.error(o)}catch{console.error(o)}})}if(i.IconifyProviders!==void 0){const e=i.IconifyProviders;if(typeof e=="object"&&e!==null)for(const o in e){const n="IconifyProviders["+o+"] is invalid.";try{const s=e[o];if(typeof s!="object"||!s||s.resources===void 0)continue;Et(o,s)||console.error(n)}catch{console.error(n)}}}}return{iconLoaded:ye,getIcon:be,listIcons:me,addIcon:jt,addCollection:vt,calculateSize:dt,buildIcon:Xt,iconToHTML:pt,svgToURL:Yt,loadIcons:ht,loadIcon:$e,addAPIProvider:Et,setCustomIconLoader:Ue,setCustomIconsLoader:Ze,appendCustomStyle:_e,_api:{getAPIConfig:_,setAPIModule:wt,sendAPIQuery:Qt,setFetch:He,getFetch:Qe,listAPIProviders:Ie}}}const ut={"background-color":"currentColor"},Jt={"background-color":"transparent"},At={image:"var(--svg)",repeat:"no-repeat",size:"100% 100%"},Ft={"-webkit-mask":ut,mask:ut,background:Jt};for(const i in Ft){const t=Ft[i];for(const e in At)t[i+"-"+e]=At[e]}function St(i){return i?i+(i.match(/^[-0-9.]+$/)?"px":""):"inherit"}function tn(i,t,e){const o=document.createElement("span");let n=i.body;n.indexOf("<a")!==-1&&(n+="<!-- "+Date.now()+" -->");const s=i.attributes,r=pt(n,{...s,width:t.width+"",height:t.height+""}),a=Yt(r),c=o.style,l={"--svg":a,width:St(s.width),height:St(s.height),...e?ut:Jt};for(const d in l)c.setProperty(d,l[d]);return o}let z;function en(){try{z=window.trustedTypes.createPolicy("iconify",{createHTML:i=>i})}catch{z=null}}function nn(i){return z===void 0&&en(),z?z.createHTML(i):i}function on(i){const t=document.createElement("span"),e=i.attributes;let o="";e.width||(o="width: inherit;"),e.height||(o+="height: inherit;"),o&&(e.style=o);const n=pt(i.body,e);return t.innerHTML=nn(n),t.firstChild}function ft(i){return Array.from(i.childNodes).find(t=>{const e=t.tagName&&t.tagName.toUpperCase();return e==="SPAN"||e==="SVG"})}function Tt(i,t){const e=t.icon.data,o=t.customisations,n=Xt(e,o);o.preserveAspectRatio&&(n.attributes.preserveAspectRatio=o.preserveAspectRatio);const s=t.renderedMode;let r;switch(s){case"svg":r=on(n);break;default:r=tn(n,{...R,...e},s==="mask")}const a=ft(i);a?r.tagName==="SPAN"&&a.tagName===r.tagName?a.setAttribute("style",r.getAttribute("style")):i.replaceChild(r,a):i.appendChild(r)}function $t(i,t,e){const o=e&&(e.rendered?e:e.lastRender);return{rendered:!1,inline:t,icon:i,lastRender:o}}function sn(i="iconify-icon"){let t,e;try{t=window.customElements,e=window.HTMLElement}catch{return}if(!t||!e)return;const o=t.get(i);if(o)return o;const n=["icon","mode","inline","noobserver","width","height","rotate","flip"],s=class extends e{_shadowRoot;_initialised=!1;_state;_checkQueued=!1;_connected=!1;_observer=null;_visible=!0;constructor(){super();const a=this._shadowRoot=this.attachShadow({mode:"open"}),c=this.hasAttribute("inline");It(a,c),this._state=$t({value:""},c),this._queueCheck()}connectedCallback(){this._connected=!0,this.startObserver()}disconnectedCallback(){this._connected=!1,this.stopObserver()}static get observedAttributes(){return n.slice(0)}attributeChangedCallback(a){switch(a){case"inline":{const c=this.hasAttribute("inline"),l=this._state;c!==l.inline&&(l.inline=c,It(this._shadowRoot,c));break}case"noobserver":{this.hasAttribute("noobserver")?this.startObserver():this.stopObserver();break}default:this._queueCheck()}}get icon(){const a=this.getAttribute("icon");if(a&&a.slice(0,1)==="{")try{return JSON.parse(a)}catch{}return a}set icon(a){typeof a=="object"&&(a=JSON.stringify(a)),this.setAttribute("icon",a)}get inline(){return this.hasAttribute("inline")}set inline(a){a?this.setAttribute("inline","true"):this.removeAttribute("inline")}get observer(){return this.hasAttribute("observer")}set observer(a){a?this.setAttribute("observer","true"):this.removeAttribute("observer")}restartAnimation(){const a=this._state;if(a.rendered){const c=this._shadowRoot;if(a.renderedMode==="svg")try{c.lastChild.setCurrentTime(0);return}catch{}Tt(c,a)}}get status(){const a=this._state;return a.rendered?"rendered":a.icon.data===null?"failed":"loading"}_queueCheck(){this._checkQueued||(this._checkQueued=!0,setTimeout(()=>{this._check()}))}_check(){if(!this._checkQueued)return;this._checkQueued=!1;const a=this._state,c=this.getAttribute("icon");if(c!==a.icon.value){this._iconChanged(c);return}if(!a.rendered||!this._visible)return;const l=this.getAttribute("mode"),d=yt(this);(a.attrMode!==l||le(a.customisations,d)||!ft(this._shadowRoot))&&this._renderIcon(a.icon,d,l)}_iconChanged(a){const c=Oe(a,(l,d,f)=>{const h=this._state;if(h.rendered||this.getAttribute("icon")!==l)return;const w={value:l,name:d,data:f};w.data?this._gotIconData(w):h.icon=w});c.data?this._gotIconData(c):this._state=$t(c,this._state.inline,this._state)}_forceRender(){if(!this._visible){const a=ft(this._shadowRoot);a&&this._shadowRoot.removeChild(a);return}this._queueCheck()}_gotIconData(a){this._checkQueued=!1,this._renderIcon(a,yt(this),this.getAttribute("mode"))}_renderIcon(a,c,l){const d=De(a.data.body,l),f=this._state.inline;Tt(this._shadowRoot,this._state={rendered:!0,icon:a,inline:f,customisations:c,attrMode:l,renderedMode:d})}startObserver(){if(!this._observer&&!this.hasAttribute("noobserver"))try{this._observer=new IntersectionObserver(a=>{const c=a.some(l=>l.isIntersecting);c!==this._visible&&(this._visible=c,this._forceRender())}),this._observer.observe(this)}catch{if(this._observer){try{this._observer.disconnect()}catch{}this._observer=null}}}stopObserver(){this._observer&&(this._observer.disconnect(),this._observer=null,this._visible=!0,this._connected&&this._forceRender())}};n.forEach(a=>{a in s.prototype||Object.defineProperty(s.prototype,a,{get:function(){return this.getAttribute(a)},set:function(c){c!==null?this.setAttribute(a,c):this.removeAttribute(a)}})});const r=Wt();for(const a in r)s[a]=s.prototype[a]=r[a];return t.define(i,s),s}const rn=sn()||Wt(),{iconLoaded:cn,getIcon:ln,listIcons:dn,addIcon:un,addCollection:fn,calculateSize:gn,buildIcon:hn,iconToHTML:pn,svgToURL:mn,loadIcons:yn,loadIcon:bn,setCustomIconLoader:vn,setCustomIconsLoader:wn,addAPIProvider:En,_api:xn}=rn;class Ot{static initMobileMenu(){const t=document.getElementById("mobile-menu-btn"),e=document.getElementById("mobile-menu");t&&e&&t.addEventListener("click",function(){e.classList.toggle("hidden")})}static initSmoothScrolling(){document.querySelectorAll('a[href^="#"]').forEach(t=>{t.addEventListener("click",function(e){e.preventDefault();const o=document.querySelector(this.getAttribute("href"));if(o){o.scrollIntoView({behavior:"smooth",block:"start"});const n=document.getElementById("mobile-menu");n&&!n.classList.contains("hidden")&&n.classList.add("hidden")}})})}static init(){this.initMobileMenu(),this.initSmoothScrolling(),console.log("✅ Navigation utilities initialized")}}class m{static loadedSets=new Set;static observers=[];static fallbackMap={truck:"🚛",phone:"📞",envelope:"✉️",map:"📍",check:"✅",star:"⭐",arrow:"→",magnifying:"🔍",calculator:"🧮",play:"▶️","paper-airplane":"✈️",bars:"☰",home:"🏠",user:"👤",users:"👥",heart:"❤️","thumbs-up":"👍",warning:"⚠️",info:"ℹ️",x:"✕",plus:"➕",minus:"➖"};static init(){m.ensureIconifyLoaded(),m.convertIconifyElements(),m.initIconObserver(),m.setupDynamicIconHandling(),m.setupFallbackHandling(),console.log("✅ Iconify utilities initialized")}static ensureIconifyLoaded(){if(typeof customElements<"u"&&customElements.get("iconify-icon"))return console.log("Iconify is loaded and ready"),!0;if(!document.querySelector('script[src*="iconify"]')){console.log("Loading Iconify from CDN...");const t=document.createElement("script");t.src="https://code.iconify.design/3/3.1.1/iconify.min.js",t.onload=()=>{console.log("Iconify loaded from CDN"),setTimeout(()=>{m.convertIconifyElements(),m.processAllIcons()},100)},t.onerror=()=>{console.warn("Failed to load Iconify from CDN, using fallbacks"),m.addFallbackIcons()},document.head.appendChild(t)}return!1}static convertIconifyElements(){document.querySelectorAll(".iconify").forEach(e=>{try{const o=e.getAttribute("data-icon");let n="";if(e.className&&typeof e.className=="string"?n=e.className.replace("iconify","").trim():e.className&&e.className.baseVal&&(n=e.className.baseVal.replace("iconify","").trim()),o){const s=document.createElement("iconify-icon");s.setAttribute("icon",o),n&&(s.className=n),Array.from(e.attributes).forEach(r=>{r.name!=="data-icon"&&r.name!=="class"&&s.setAttribute(r.name,r.value)}),e.parentNode&&e.parentNode.replaceChild(s,e)}}catch(o){console.warn("Error converting iconify element:",o,e)}})}static initIconObserver(){const t=new MutationObserver(e=>{e.forEach(o=>{o.addedNodes.forEach(n=>{n.nodeType===Node.ELEMENT_NODE&&m.processIconsInElement(n)})})});t.observe(document.body,{childList:!0,subtree:!0}),m.observers.push(t)}static processIconsInElement(t){t.querySelectorAll("iconify-icon").forEach(o=>{m.ensureIconLoaded(o)}),t.tagName==="ICONIFY-ICON"&&m.ensureIconLoaded(t)}static ensureIconLoaded(t){t.getAttribute("icon")&&!t.shadowRoot&&m.queueIconForRetry(t)}static queueIconForRetry(t){setTimeout(()=>{if(!t.shadowRoot&&!t.innerHTML.includes("svg")){const e=t.getAttribute("icon");t.removeAttribute("icon"),setTimeout(()=>{t.setAttribute("icon",e)},10)}},1e3)}static setupDynamicIconHandling(){document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>{m.processAllIcons()}):m.processAllIcons()}static setupFallbackHandling(){setTimeout(()=>{m.addFallbackIcons()},3e3)}static processAllIcons(){const t=document.querySelectorAll("iconify-icon");console.log(`Processing ${t.length} icons`),t.forEach(e=>{m.ensureIconLoaded(e)})}static addFallbackIcons(){document.querySelectorAll("iconify-icon, .iconify").forEach(e=>{try{setTimeout(()=>{if(!(e.innerHTML.includes("<svg")||e.querySelector("svg")||e.shadowRoot)){const n=e.getAttribute("icon")||e.getAttribute("data-icon"),s=m.getFallbackIcon(n);s&&(e.innerHTML=s,e.style.fontFamily="emoji, system-ui",e.style.display="inline-block")}},500)}catch(o){console.warn("Error adding fallback icon:",o,e)}})}static getFallbackIcon(t){if(!t)return"●";const e=t.toLowerCase();for(const[o,n]of Object.entries(m.fallbackMap))if(e.includes(o))return n;return"●"}static createIcon(t,e={}){const{size:o="24",className:n="",inline:s=!1,style:r={}}=e,a=document.createElement("iconify-icon");return a.setAttribute("icon",t),o&&(a.setAttribute("width",o),a.setAttribute("height",o)),n&&(a.className=n),s&&a.setAttribute("inline","true"),Object.assign(a.style,r),a}static debugIconifyElements(){const t=document.querySelectorAll(".iconify, iconify-icon");console.log(`Found ${t.length} iconify elements:`,t),t.forEach((e,o)=>{console.log(`Element ${o}:`,{tagName:e.tagName,className:e.className,dataIcon:e.getAttribute("data-icon"),icon:e.getAttribute("icon"),innerHTML:e.innerHTML,hasShadowRoot:!!e.shadowRoot})})}static getUsageStats(){const t=document.querySelectorAll("iconify-icon"),e={};return t.forEach(o=>{const n=o.getAttribute("icon");n&&(e[n]=(e[n]||0)+1)}),{totalIcons:t.length,uniqueIcons:Object.keys(e).length,iconCounts:e,loadedSets:m.loadedSets}}static cleanup(){m.observers.forEach(t=>{t.disconnect()}),m.observers=[]}}class v{static init(){const t=document.getElementById("contact-form");t&&v.initContactForm(t),document.querySelectorAll(".quote-form").forEach(o=>{v.initQuoteForm(o)}),console.log("✅ Form utilities initialized")}static initContactForm(t){t.addEventListener("submit",function(o){o.preventDefault();const n=new FormData(t),s=Object.fromEntries(n);v.validateContactForm(s)&&v.submitContactForm(s)}),t.querySelectorAll("input, textarea, select").forEach(o=>{o.addEventListener("blur",()=>{v.validateField(o)})})}static initQuoteForm(t){t.addEventListener("submit",function(e){e.preventDefault();const o=new FormData(t),n=Object.fromEntries(o);v.validateQuoteForm(n)&&v.submitQuoteForm(n)})}static validateContactForm(t){const e=[];return(!t.name||t.name.trim().length<2)&&e.push("Nama harus diisi minimal 2 karakter"),(!t.email||!v.isValidEmail(t.email))&&e.push("Email tidak valid"),(!t.phone||t.phone.trim().length<10)&&e.push("Nomor telepon harus diisi minimal 10 digit"),(!t.message||t.message.trim().length<10)&&e.push("Pesan harus diisi minimal 10 karakter"),e.length>0?(v.showFormErrors(e),!1):!0}static validateQuoteForm(t){const e=[];return(!t.origin||t.origin.trim().length<2)&&e.push("Kota asal harus diisi"),(!t.destination||t.destination.trim().length<2)&&e.push("Kota tujuan harus diisi"),(!t.weight||parseFloat(t.weight)<=0)&&e.push("Berat paket harus lebih dari 0"),e.length>0?(v.showFormErrors(e),!1):!0}static validateField(t){const e=t.value.trim();let o=!0,n="";switch(t.type){case"email":o=v.isValidEmail(e),n=o?"":"Email tidak valid";break;case"tel":o=e.length>=10,n=o?"":"Nomor telepon minimal 10 digit";break;default:t.required&&(o=e.length>0,n=o?"":"Field ini wajib diisi")}return v.toggleFieldError(t,!o,n),o}static isValidEmail(t){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)}static showFormErrors(t){let e=document.getElementById("form-errors");e||(e=document.createElement("div"),e.id="form-errors",e.className="bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-lg mb-4"),e.innerHTML=`
      <div class="flex items-start">
        <iconify-icon icon="heroicons:exclamation-triangle" class="text-red-500 mr-2 mt-0.5"></iconify-icon>
        <div>
          <h4 class="font-medium">Terdapat kesalahan:</h4>
          <ul class="list-disc list-inside mt-1">
            ${t.map(n=>`<li>${n}</li>`).join("")}
          </ul>
        </div>
      </div>
    `;const o=document.querySelector("form");o&&o.parentNode.insertBefore(e,o),setTimeout(()=>{e.remove()},5e3)}static toggleFieldError(t,e,o){const n="border-red-500",s="border-green-500";t.classList.remove(n,s),e?t.classList.add(n):t.value.trim()&&t.classList.add(s);let r=t.parentNode.querySelector(".field-error");e&&o?(r||(r=document.createElement("div"),r.className="field-error text-red-500 text-sm mt-1",t.parentNode.appendChild(r)),r.textContent=o):r&&r.remove()}static submitContactForm(t){console.log("Submitting contact form:",t),v.showSuccessMessage("Pesan Anda telah terkirim! Kami akan segera menghubungi Anda.");const e=document.getElementById("contact-form");e&&e.reset()}static submitQuoteForm(t){console.log("Calculating quote:",t);const e=v.calculateShippingCost(t);v.showQuoteResult(e,t)}static calculateShippingCost(t){const o=parseFloat(t.weight)||1,n=Math.random()*1e3+100;return Math.floor(5e3*o*(n/100))}static showQuoteResult(t,e){const o=document.getElementById("quote-result")||v.createQuoteResultContainer();o.innerHTML=`
      <div class="bg-green-50 border border-green-200 rounded-lg p-4">
        <div class="flex items-start">
          <iconify-icon icon="heroicons:check-circle" class="text-green-500 mr-3 mt-0.5"></iconify-icon>
          <div>
            <h4 class="font-medium text-green-800">Estimasi Biaya Pengiriman</h4>
            <div class="mt-2 text-sm text-green-700">
              <p><strong>Rute:</strong> ${e.origin} → ${e.destination}</p>
              <p><strong>Berat:</strong> ${e.weight} kg</p>
              <p><strong>Estimasi Biaya:</strong> <span class="text-lg font-bold">Rp ${t.toLocaleString("id-ID")}</span></p>
              <p class="mt-2 text-xs">*Estimasi biaya dapat berubah berdasarkan kondisi aktual</p>
            </div>
          </div>
        </div>
      </div>
    `,o.classList.remove("hidden"),o.scrollIntoView({behavior:"smooth"})}static createQuoteResultContainer(){const t=document.createElement("div");t.id="quote-result",t.className="mt-6";const e=document.querySelector(".quote-form");return e&&e.parentNode.insertBefore(t,e.nextSibling),t}static showSuccessMessage(t){const e=document.createElement("div");e.className="fixed top-4 right-4 bg-green-500 text-white px-6 py-3 rounded-lg shadow-lg z-50",e.innerHTML=`
      <div class="flex items-center">
        <iconify-icon icon="heroicons:check-circle" class="mr-2"></iconify-icon>
        <span>${t}</span>
      </div>
    `,document.body.appendChild(e),setTimeout(()=>{e.remove()},3e3)}}class p{static notifications=[];static nextId=1;static init(){p.createNotificationContainer(),p.initEventDelegation(),console.log("✅ Notification utilities initialized")}static initEventDelegation(){document.addEventListener("click",t=>{const e=t.target.closest(".notification-action-btn");if(e){const n=parseInt(e.getAttribute("data-notification-id"));n&&p.handleAction(n)}const o=t.target.closest(".notification-close-btn");if(o){const n=parseInt(o.getAttribute("data-notification-id"));n&&p.hide(n)}})}static createNotificationContainer(){let t=document.getElementById("notification-container");return t||(t=document.createElement("div"),t.id="notification-container",t.className="fixed top-4 right-4 z-50 space-y-2",document.body.appendChild(t)),t}static success(t,e={}){return p.show(t,"success",e)}static error(t,e={}){return p.show(t,"error",e)}static warning(t,e={}){return p.show(t,"warning",e)}static info(t,e={}){return p.show(t,"info",e)}static show(t,e="info",o={}){const{duration:n=5e3,closable:s=!0,persistent:r=!1,title:a=null,action:c=null}=o,l={id:p.nextId++,message:t,type:e,title:a,action:c,closable:s,persistent:r,timestamp:Date.now()};p.notifications.push(l);const d=p.createNotificationElement(l);return p.createNotificationContainer().appendChild(d),!r&&n>0&&setTimeout(()=>{p.hide(l.id)},n),l.id}static createNotificationElement(t){const{id:e,message:o,type:n,title:s,action:r,closable:a}=t,c={success:{bgClass:"bg-green-500",icon:"heroicons:check-circle",textClass:"text-white"},error:{bgClass:"bg-red-500",icon:"heroicons:x-circle",textClass:"text-white"},warning:{bgClass:"bg-yellow-500",icon:"heroicons:exclamation-triangle",textClass:"text-white"},info:{bgClass:"bg-blue-500",icon:"heroicons:information-circle",textClass:"text-white"}},l=c[n]||c.info,d=document.createElement("div");d.id=`notification-${e}`,d.className=`${l.bgClass} ${l.textClass} px-4 py-3 rounded-lg shadow-lg max-w-sm transform transition-all duration-300 opacity-0 translate-x-full`,d.innerHTML=`
      <div class="flex items-start justify-between">
        <div class="flex items-start">
          <iconify-icon icon="${l.icon}" class="mr-3 mt-0.5 flex-shrink-0"></iconify-icon>
          <div>
            ${s?`<h4 class="font-medium">${s}</h4>`:""}
            <p class="text-sm ${s?"mt-1":""}">${o}</p>
            ${r?`<button class="mt-2 text-sm underline hover:no-underline notification-action-btn" data-notification-id="${e}">${r.text}</button>`:""}
          </div>
        </div>
        ${a?`<button class="ml-4 flex-shrink-0 hover:opacity-75 notification-close-btn" data-notification-id="${e}"><iconify-icon icon="heroicons:x-mark"></iconify-icon></button>`:""}
      </div>
    `,setTimeout(()=>{d.classList.remove("opacity-0","translate-x-full")},10);const f=d.querySelector(".notification-action-btn");f&&f.addEventListener("click",()=>{p.handleAction(e)});const h=d.querySelector(".notification-close-btn");return h&&h.addEventListener("click",()=>{p.hide(e)}),d}static hide(t){const e=document.getElementById(`notification-${t}`);e&&(e.classList.add("opacity-0","translate-x-full"),setTimeout(()=>{e.remove()},300)),p.notifications=p.notifications.filter(o=>o.id!==t)}static handleAction(t){const e=p.notifications.find(o=>o.id===t);e&&e.action&&e.action.callback&&e.action.callback(),p.hide(t)}static clearAll(){const t=document.getElementById("notification-container");t&&(t.innerHTML=""),p.notifications=[]}static loading(t="Loading..."){const e=document.createElement("div");return e.className="bg-gray-800 text-white px-4 py-3 rounded-lg shadow-lg max-w-sm flex items-center",e.innerHTML=`
      <div class="animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-3"></div>
      <span>${t}</span>
    `,p.createNotificationContainer().appendChild(e),e}static hideLoading(t){t&&t.parentNode&&t.remove()}static confirm(t,e={}){return new Promise(o=>{const{title:n="Konfirmasi",confirmText:s="Ya",cancelText:r="Batal",type:a="warning"}=e,c=document.createElement("div");c.className="fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center",c.innerHTML=`
        <div class="bg-white rounded-lg p-6 max-w-md mx-4 transform transition-all">
          <div class="flex items-start">
            <iconify-icon icon="heroicons:exclamation-triangle" class="text-yellow-500 mr-3 mt-1"></iconify-icon>
            <div>
              <h3 class="text-lg font-medium text-gray-900">${n}</h3>
              <p class="mt-2 text-gray-600">${t}</p>
            </div>
          </div>
          <div class="mt-6 flex space-x-3 justify-end">
            <button id="cancel-btn" class="px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors">${r}</button>
            <button id="confirm-btn" class="px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors">${s}</button>
          </div>
        </div>
      `,document.body.appendChild(c),c.querySelector("#confirm-btn").addEventListener("click",()=>{c.remove(),o(!0)}),c.querySelector("#cancel-btn").addEventListener("click",()=>{c.remove(),o(!1)}),c.addEventListener("click",d=>{d.target===c&&(c.remove(),o(!1))});const l=d=>{d.key==="Escape"&&(document.removeEventListener("keydown",l),c.remove(),o(!1))};document.addEventListener("keydown",l)})}static alert(t,e={}){return new Promise(o=>{const{title:n="Peringatan",buttonText:s="OK",type:r="info"}=e,a=document.createElement("div");a.className="fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center",a.innerHTML=`
        <div class="bg-white rounded-lg p-6 max-w-md mx-4">
          <div class="flex items-start">
            <iconify-icon icon="heroicons:information-circle" class="text-blue-500 mr-3 mt-1"></iconify-icon>
            <div>
              <h3 class="text-lg font-medium text-gray-900">${n}</h3>
              <p class="mt-2 text-gray-600">${t}</p>
            </div>
          </div>
          <div class="mt-6 flex justify-end">
            <button id="ok-btn" class="px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors">${s}</button>
          </div>
        </div>
      `,document.body.appendChild(a),a.querySelector("#ok-btn").addEventListener("click",()=>{a.remove(),o()}),a.addEventListener("click",c=>{c.target===a&&(a.remove(),o())})})}}class Z{static init(){const t=document.getElementById("track-btn"),e=document.getElementById("resi-input"),o=document.getElementById("tracking-result");t&&e&&o&&(t.addEventListener("click",function(){e.value.trim()&&Z.showTrackingResult()}),e.addEventListener("keypress",function(n){n.key==="Enter"&&t.click()}),console.log("✅ Tracking utilities initialized"))}static showTrackingResult(){const t=document.getElementById("tracking-result");t&&(t.classList.remove("hidden"),setTimeout(()=>{t.scrollIntoView({behavior:"smooth"})},100))}static validateResi(t){return t&&t.length>=8&&/^[A-Z0-9]+$/i.test(t)}static formatResi(t){return t.toUpperCase().replace(/(.{3})/g,"$1 ").trim()}}class A{static init(){const t=document.querySelectorAll("[data-counter]");if(t.length===0){console.log("⚠️ No counter elements found");return}const e=new IntersectionObserver(o=>{o.forEach(n=>{n.isIntersecting&&(console.log("📊 Starting counter animation for:",n.target.getAttribute("data-counter")),A.animateCounter(n.target),e.unobserve(n.target))})},{threshold:.5,rootMargin:"0px 0px -50px 0px"});t.forEach(o=>{e.observe(o)}),console.log(`✅ Counter utilities initialized (${t.length} counters found)`)}static animateCounter(t){const e=parseInt(t.getAttribute("data-counter")),o=parseInt(t.getAttribute("data-duration"))||2e3;if(isNaN(e)){console.error("❌ Invalid counter target value:",t.getAttribute("data-counter"));return}console.log(`🔢 Animating counter to ${e} over ${o}ms`);const n=performance.now();let s=0;const r=a=>{const c=a-n,l=Math.min(c/o,1),d=1-Math.pow(1-l,3);s=Math.floor(e*d),t.textContent=A.formatNumber(s),l<1?requestAnimationFrame(r):(t.textContent=A.formatNumber(e),console.log(`✅ Counter animation completed: ${e}`))};requestAnimationFrame(r)}static formatNumber(t){return t>=1e6?(t/1e6).toFixed(1)+"M":t>=1e3?(t/1e3).toFixed(1)+"K":t.toString()}static setCounterValue(t,e){t.setAttribute("data-counter",e),t.textContent=A.formatNumber(e)}static resetAllCounters(){document.querySelectorAll("[data-counter]").forEach(e=>{e.textContent="0"})}static forceInit(){console.log("🔧 Force initializing counters...");const t=document.querySelectorAll("[data-counter]");t.forEach(e=>{(e.textContent==="0"||e.textContent==="")&&A.animateCounter(e)}),console.log(`🔧 Force initialized ${t.length} counters`)}}class g{static observers=[];static animatedElements=new WeakSet;static init(){g.initScrollAnimations(),g.initHoverAnimations(),g.initLoadingAnimations(),console.log("✅ Animation utilities initialized")}static initScrollAnimations(){const t=document.querySelectorAll("[data-animate]");if(t.length===0)return;const e=new IntersectionObserver(o=>{o.forEach(n=>{n.isIntersecting&&!g.animatedElements.has(n.target)&&(g.triggerAnimation(n.target),g.animatedElements.add(n.target))})},{threshold:.1,rootMargin:"0px 0px -50px 0px"});t.forEach(o=>{e.observe(o)}),g.observers.push(e)}static triggerAnimation(t){const e=t.getAttribute("data-animate"),o=parseInt(t.getAttribute("data-delay"))||0,n=parseInt(t.getAttribute("data-duration"))||600;setTimeout(()=>{switch(e){case"fade-in":g.fadeIn(t,n);break;case"slide-up":g.slideUp(t,n);break;case"slide-down":g.slideDown(t,n);break;case"slide-left":g.slideLeft(t,n);break;case"slide-right":g.slideRight(t,n);break;case"scale":g.scale(t,n);break;case"bounce":g.bounce(t,n);break;case"rotate":g.rotate(t,n);break;default:g.fadeIn(t,n)}},o)}static fadeIn(t,e=600){t.style.opacity="0",t.style.transition=`opacity ${e}ms ease-out`,requestAnimationFrame(()=>{t.style.opacity="1"})}static slideUp(t,e=600){t.style.transform="translateY(50px)",t.style.opacity="0",t.style.transition=`transform ${e}ms ease-out, opacity ${e}ms ease-out`,requestAnimationFrame(()=>{t.style.transform="translateY(0)",t.style.opacity="1"})}static slideDown(t,e=600){t.style.transform="translateY(-50px)",t.style.opacity="0",t.style.transition=`transform ${e}ms ease-out, opacity ${e}ms ease-out`,requestAnimationFrame(()=>{t.style.transform="translateY(0)",t.style.opacity="1"})}static slideLeft(t,e=600){t.style.transform="translateX(50px)",t.style.opacity="0",t.style.transition=`transform ${e}ms ease-out, opacity ${e}ms ease-out`,requestAnimationFrame(()=>{t.style.transform="translateX(0)",t.style.opacity="1"})}static slideRight(t,e=600){t.style.transform="translateX(-50px)",t.style.opacity="0",t.style.transition=`transform ${e}ms ease-out, opacity ${e}ms ease-out`,requestAnimationFrame(()=>{t.style.transform="translateX(0)",t.style.opacity="1"})}static scale(t,e=600){t.style.transform="scale(0.8)",t.style.opacity="0",t.style.transition=`transform ${e}ms ease-out, opacity ${e}ms ease-out`,requestAnimationFrame(()=>{t.style.transform="scale(1)",t.style.opacity="1"})}static bounce(t,e=600){t.style.transform="translateY(30px)",t.style.opacity="0",t.style.transition=`transform ${e}ms cubic-bezier(0.68, -0.55, 0.265, 1.55), opacity ${e}ms ease-out`,requestAnimationFrame(()=>{t.style.transform="translateY(0)",t.style.opacity="1"})}static rotate(t,e=600){t.style.transform="rotate(-10deg) scale(0.8)",t.style.opacity="0",t.style.transition=`transform ${e}ms ease-out, opacity ${e}ms ease-out`,requestAnimationFrame(()=>{t.style.transform="rotate(0deg) scale(1)",t.style.opacity="1"})}static initHoverAnimations(){document.querySelectorAll(".card, .service-card, .feature-card").forEach(n=>{g.addHoverEffect(n,"lift")}),document.querySelectorAll(".btn, button").forEach(n=>{g.addHoverEffect(n,"scale")}),document.querySelectorAll(".icon, iconify-icon").forEach(n=>{g.addHoverEffect(n,"bounce")})}static addHoverEffect(t,e){let o=!1;t.addEventListener("mouseenter",()=>{if(!o){switch(o=!0,e){case"lift":t.style.transition="transform 0.3s ease, box-shadow 0.3s ease",t.style.transform="translateY(-5px)",t.style.boxShadow="0 10px 25px rgba(0,0,0,0.15)";break;case"scale":t.style.transition="transform 0.2s ease",t.style.transform="scale(1.05)";break;case"bounce":t.style.transition="transform 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55)",t.style.transform="scale(1.1)";break;case"rotate":t.style.transition="transform 0.3s ease",t.style.transform="rotate(5deg)";break}setTimeout(()=>{o=!1},300)}}),t.addEventListener("mouseleave",()=>{t.style.transform="",e==="lift"&&(t.style.boxShadow="")})}static initLoadingAnimations(){document.querySelectorAll("form").forEach(e=>{e.addEventListener("submit",o=>{const n=e.querySelector('button[type="submit"]');n&&g.addLoadingState(n)})})}static addLoadingState(t){t.textContent;const e=t.innerHTML;t.disabled=!0,t.innerHTML=`
      <div class="flex items-center justify-center">
        <div class="animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"></div>
        <span>Memproses...</span>
      </div>
    `,setTimeout(()=>{g.removeLoadingState(t,e)},2e3)}static removeLoadingState(t,e){t.disabled=!1,t.innerHTML=e}static animateNumber(t,e,o,n=2e3){const r=(o-e)/(n/16);let a=e;const c=setInterval(()=>{a+=r,a>=o&&(a=o,clearInterval(c)),t.textContent=Math.floor(a).toLocaleString("id-ID")},16)}static scrollToElement(t,e=0,o=800){const n=document.querySelector(t);if(!n)return;const s=n.offsetTop-e,r=window.pageYOffset,a=s-r;let c=null;function l(d){c===null&&(c=d);const f=d-c,h=g.easeInOutQuad(f,r,a,o);window.scrollTo(0,h),f<o&&requestAnimationFrame(l)}requestAnimationFrame(l)}static easeInOutQuad(t,e,o,n){return t/=n/2,t<1?o/2*t*t+e:(t--,-o/2*(t*(t-2)-1)+e)}static initParallax(){const t=document.querySelectorAll("[data-parallax]");if(t.length===0)return;function e(){const o=window.pageYOffset;t.forEach(n=>{const s=parseFloat(n.getAttribute("data-parallax"))||.5,r=-(o*s);n.style.transform=`translateY(${r}px)`})}window.addEventListener("scroll",g.throttle(e,16))}static throttle(t,e){let o,n=0;return function(...s){const r=Date.now();r-n>e?(t.apply(this,s),n=r):(clearTimeout(o),o=setTimeout(()=>{t.apply(this,s),n=Date.now()},e-(r-n)))}}static staggerAnimation(t,e="fade-in",o=100){t.forEach((n,s)=>{setTimeout(()=>{g.triggerAnimation(n)},s*o)})}static cleanup(){g.observers.forEach(t=>{t.disconnect()}),g.observers=[],g.animatedElements=new WeakSet}static resetAnimations(){document.querySelectorAll("[data-animate]").forEach(e=>{e.style.opacity="",e.style.transform="",e.style.transition=""}),g.animatedElements=new WeakSet}}class b{static cache=new Map;static loadPromises=new Map;static async loadComponent(t,e=!0){if(e&&b.cache.has(t))return console.log(`📦 Loading ${t} from cache`),b.cache.get(t);if(b.loadPromises.has(t))return console.log(`⏳ Waiting for ${t} to finish loading`),b.loadPromises.get(t);const o=b.fetchComponent(t);b.loadPromises.set(t,o);try{const n=await o;return b.cache.set(t,n),console.log(`✅ Component ${t} loaded and cached`),n}catch(n){throw console.error(`❌ Error loading component ${t}:`,n),n}finally{b.loadPromises.delete(t)}}static async fetchComponent(t){const e=await fetch(`/src/components/${t}.html`);if(!e.ok)throw new Error(`Failed to load component ${t}: ${e.status} ${e.statusText}`);return e.text()}static async renderComponent(t,e,o=!0){try{const n=await b.loadComponent(t,o),s=typeof e=="string"?document.querySelector(e):e;if(!s)throw new Error(`Container not found: ${e}`);s.innerHTML=n,console.log(`🎨 Component ${t} rendered to container`),window.dispatchEvent(new CustomEvent("componentRendered",{detail:{componentName:t,container:s}}))}catch(n){throw console.error(`❌ Error rendering component ${t}:`,n),n}}static async renderComponents(t,e=!0){if(console.log(`🔧 Loading ${t.length} components...`),e){const o=t.map(({name:n,container:s})=>b.renderComponent(n,s));await Promise.all(o)}else for(const{name:o,container:n}of t)await b.renderComponent(o,n);console.log("✅ All components loaded successfully"),window.dispatchEvent(new CustomEvent("componentsLoaded"))}static async preloadComponents(t){console.log(`⚡ Preloading ${t.length} components...`);const e=t.map(o=>b.loadComponent(o,!1));await Promise.all(e),console.log("✅ All components preloaded")}static clearCache(t=null){t?(b.cache.delete(t),console.log(`🗑️ Cache cleared for component: ${t}`)):(b.cache.clear(),console.log("🗑️ All component cache cleared"))}static async reloadComponent(t,e){b.clearCache(t),await b.renderComponent(t,e,!1),console.log(`🔄 Component ${t} reloaded`)}static getCacheStatus(){return{cachedComponents:Array.from(b.cache.keys()),cacheSize:b.cache.size,loadingComponents:Array.from(b.loadPromises.keys())}}static async componentExists(t){try{return(await fetch(`/src/components/${t}.html`,{method:"HEAD"})).ok}catch{return!1}}static async init(){return console.log("🔧 ComponentManager: Initialization skipped - using manual loading system"),console.log("ℹ️ Components are loaded via the manual system in index.html"),console.log("ℹ️ Standalone components: HeaderOffCanvas, LanguageSelector, VariantSelector"),console.log("✅ ComponentManager utilities available for manual component loading"),window.dispatchEvent(new CustomEvent("componentManagerReady")),Promise.resolve()}static async initManual(t){console.log(`🔧 ComponentManager: Manual initialization with ${t.length} components`);try{await b.renderComponents(t,!0),console.log("🎉 Manual component system initialized successfully")}catch(e){throw console.error("❌ Error initializing manual component system:",e),e}}static async loadSingle(t,e){const o=`#${e}`;try{await b.renderComponent(t,o),console.log(`✅ Single component ${t} loaded to ${o}`)}catch(n){throw console.error(`❌ Error loading single component ${t}:`,n),n}}static async hotReload(t){const e=document.querySelectorAll(`[data-component="${t}"]`);for(const o of e)await b.reloadComponent(t,o);window.dispatchEvent(new CustomEvent("componentUpdated",{detail:{componentName:t}}))}}class L{static isInitialized=!1;static async init(){if(L.isInitialized){console.warn("Application already initialized");return}console.log("🚀 Initializing MiWebMusicStore application...");try{await b.init(),await L.initializeUtilities(),L.isInitialized=!0,console.log("✅ MiWebMusicStore application initialized successfully!")}catch(t){console.error("❌ Error initializing application:",t),p.error("Terjadi kesalahan saat memuat aplikasi. Silakan refresh halaman.")}}static async initializeUtilities(){try{m.init(),p.init(),setTimeout(()=>{Ot.init(),v.init(),Z.init(),g.init(),A.init(),console.log("📦 All utilities initialized successfully"),p.success("MiWebMusicStore Template berhasil dimuat!")},200)}catch(t){console.error("❌ Error initializing utilities:",t),p.error("Terjadi kesalahan saat memuat template. Silakan refresh halaman.")}}static cleanup(){try{m.cleanup(),g.cleanup(),p.clearAll(),L.isInitialized=!1,console.log("🧹 Application cleanup completed")}catch(t){console.error("❌ Error during cleanup:",t)}}static getStatus(){return{initialized:L.isInitialized,iconStats:m.getUsageStats(),animations:g.animatedElements?.size||0,notifications:p.notifications.length}}static reinitialize(){console.log("🔄 Reinitializing application..."),L.cleanup(),setTimeout(()=>{L.init()},100)}static reinitializeUtilities(){console.log("🔄 Reinitializing utilities for new components..."),setTimeout(()=>{m.processAllIcons(),Ot.init(),v.init(),Z.init(),g.init(),A.init()},500)}}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>{L.init()}):L.init();document.addEventListener("visibilitychange",()=>{document.hidden?console.log("📱 Page hidden - pausing non-essential operations"):(console.log("📱 Page visible - resuming operations"),m.processAllIcons&&m.processAllIcons())});window.addEventListener("resize",g.throttle(()=>{console.log("📐 Window resized - updating layouts")},250));window.addEventListener("error",i=>{console.error("💥 Global error:",i.error),p.error&&p.error("Terjadi kesalahan. Tim teknis kami akan segera memperbaikinya.")});window.addEventListener("componentUpdated",()=>{console.log("🔄 Component updated, reinitializing utilities..."),L.reinitializeUtilities()});window.addEventListener("componentsLoaded",()=>{console.log("🎉 All components loaded, reinitializing utilities..."),L.reinitializeUtilities()});window.addEventListener("componentRendered",i=>{const{componentName:t}=i.detail;t==="stats"&&(console.log("📊 Stats component rendered, initializing counters..."),setTimeout(()=>{A.init()},100))});window.MiWebMusicStore=L;document.addEventListener("DOMContentLoaded",function(){const i=document.body,t=x.defaultVariant;console.log(`🎨 Setting default variant: ${t}`),i.setAttribute("data-variant",t),window.dispatchEvent(new CustomEvent("defaultVariantSet",{detail:{variant:t}}))});
//# sourceMappingURL=index-COsS-z3i.js.map
