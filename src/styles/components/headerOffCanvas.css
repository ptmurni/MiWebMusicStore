/* src/styles/components/header-off-canvas.css */

/* ===================================
   Off-Canvas Specific Overrides
   =================================== */
@layer components {
  /* Header Container */
  .headerOffCanvas {
    @apply fixed w-full top-0 z-50 shadow-sm;
    background-color: var(--color-surface);
  }
  
  /* Hide mobile dropdown, use off-canvas instead */
  .headerOffCanvas .header-mobile-menu {
    @apply hidden;
  }
  
  /* Mobile Menu Button Enhancement */
  .headerOffCanvas__toggle {
    @apply relative p-2 rounded-lg transition-all duration-200;
    color: var(--color-text);
  }
  
  .headerOffCanvas__toggle:hover {
    background-color: color-mix(in srgb, var(--color-primary) 10%, transparent);
  }
  
  /* Hamburger Icon Animation */
  .headerOffCanvas__hamburger {
    @apply relative w-6 h-6 flex items-center justify-center;
  }
  
  .headerOffCanvas__hamburger-line {
    @apply absolute h-0.5 w-full transition-all duration-300;
    background-color: currentColor;
  }
  
  .headerOffCanvas__hamburger-line:nth-child(1) {
    @apply -translate-y-2;
  }
  
  .headerOffCanvas__hamburger-line:nth-child(3) {
    @apply translate-y-2;
  }
  
  /* Hamburger to X animation */
  .headerOffCanvas__toggle--active .headerOffCanvas__hamburger-line:nth-child(1) {
    @apply rotate-45 translate-y-0;
  }
  
  .headerOffCanvas__toggle--active .headerOffCanvas__hamburger-line:nth-child(2) {
    @apply opacity-0;
  }
  
  .headerOffCanvas__toggle--active .headerOffCanvas__hamburger-line:nth-child(3) {
    @apply -rotate-45 translate-y-0;
  }
  
  /* Off-Canvas Overlay */
  .headerOffCanvas__overlay {
    @apply fixed inset-0 bg-black transition-opacity duration-300;
    opacity: 0;
    visibility: hidden;
    z-index: 60;
  }
  
  .headerOffCanvas__overlay--active {
    opacity: 0.5;
    visibility: visible;
  }
  
  /* Off-Canvas Panel */
  .headerOffCanvas__panel {
    @apply fixed top-0 right-0 h-full w-80 max-w-[85vw] shadow-2xl;
    @apply transform transition-transform duration-300 ease-out;
    background-color: var(--color-surface);
    transform: translateX(100%);
    z-index: 999;
  }
  
  .headerOffCanvas__panel--active {
    transform: translateX(0);
  }
  
  /* Panel Header */
  .headerOffCanvas__panel-header {
    @apply flex items-center justify-between p-6 border-b;
    border-color: color-mix(in srgb, var(--color-text) 10%, transparent);
  }
  
  .headerOffCanvas__panel-logo {
    @apply flex items-center space-x-2;
  }
  
  .headerOffCanvas__panel-logo-icon {
    @apply text-2xl;
    color: var(--color-primary);
  }
  
  .headerOffCanvas__panel-logo-text {
    @apply text-xl font-bold;
    color: var(--color-text);
  }
  
  /* Close Button */
  .headerOffCanvas__close {
    @apply p-2 rounded-lg transition-all duration-200;
    color: var(--color-text-muted);
  }
  
  .headerOffCanvas__close:hover {
    background-color: color-mix(in srgb, var(--color-text) 10%, transparent);
    color: var(--color-text);
  }
  
  /* Panel Navigation */
  .headerOffCanvas__nav {
    @apply p-6 space-y-2 overflow-y-auto max-h-[calc(100vh-200px)];
  }
  
  .headerOffCanvas__nav-link {
    @apply flex items-center space-x-3 px-4 py-3 rounded-lg transition-all duration-200;
    color: var(--color-text-muted);
  }
  
  .headerOffCanvas__nav-link:hover {
    background-color: color-mix(in srgb, var(--color-primary) 10%, transparent);
    color: var(--color-primary);
    transform: translateX(4px);
  }
  
  .headerOffCanvas__nav-link--active {
    background-color: color-mix(in srgb, var(--color-primary) 15%, transparent);
    color: var(--color-primary);
    @apply font-semibold;
  }
  
  .headerOffCanvas__nav-icon {
    @apply text-xl;
  }
  
  .headerOffCanvas__nav-text {
    @apply flex-1;
  }
  
  /* Panel Footer (CTA) */
  .headerOffCanvas__panel-footer {
    @apply p-6 border-t mt-auto;
    border-color: color-mix(in srgb, var(--color-text) 10%, transparent);
  }
  
  .headerOffCanvas__cta {
    @apply w-full px-6 py-3 rounded-full transition-all duration-200 flex items-center justify-center space-x-2;
    background-color: var(--color-primary);
    color: white;
  }
  
  .headerOffCanvas__cta:hover {
    background-color: var(--color-primary-dark);
    @apply shadow-lg;
  }
}

/* ===================================
   Variant-Specific Adjustments
   =================================== */
@layer utilities {
  /* SpeedYellow variant */
  [data-current-variant="speedyellow"] .headerOffCanvas__cta {
    background-color: var(--color-secondary);
  }
  
  /* JetStream variant */
  [data-current-variant="jetstream"] .headerOffCanvas__panel {
    background-color: var(--color-secondary);
  }
  
  [data-current-variant="jetstream"] .headerOffCanvas__nav-link,
  [data-current-variant="jetstream"] .headerOffCanvas__panel-logo-text {
    color: var(--color-surface);
  }
  
  [data-current-variant="jetstream"] .headerOffCanvas__nav-link:hover {
    background-color: color-mix(in srgb, var(--color-primary) 20%, transparent);
  }
  
  /* UnitBrown variant */
  [data-current-variant="unitbrown"] .headerOffCanvas__cta {
    background-color: var(--color-secondary);
    color: var(--color-primary);
  }
  
  /* PrimeLogix variant */
  [data-current-variant="primelogix"] .headerOffCanvas__panel {
    box-shadow: -10px 0 30px -5px rgba(0, 0, 0, 0.1);
  }
}

/* ===================================
   Animations
   =================================== */
@keyframes slideInRight {
  from {
    transform: translateX(100%);
  }
  to {
    transform: translateX(0);
  }
}

@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 0.5;
  }
}

/* Stagger animation for menu items */
.headerOffCanvas__panel--active .headerOffCanvas__nav-link {
  opacity: 0;
  animation: slideInFromRight 0.3s ease-out forwards;
}

.headerOffCanvas__panel--active .headerOffCanvas__nav-link:nth-child(1) { animation-delay: 0.05s; }
.headerOffCanvas__panel--active .headerOffCanvas__nav-link:nth-child(2) { animation-delay: 0.1s; }
.headerOffCanvas__panel--active .headerOffCanvas__nav-link:nth-child(3) { animation-delay: 0.15s; }
.headerOffCanvas__panel--active .headerOffCanvas__nav-link:nth-child(4) { animation-delay: 0.2s; }
.headerOffCanvas__panel--active .headerOffCanvas__nav-link:nth-child(5) { animation-delay: 0.25s; }

@keyframes slideInFromRight {
  from {
    opacity: 0;
    transform: translateX(20px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

/* ===================================
   Responsive Adjustments
   =================================== */
@media (max-width: 640px) {
  .headerOffCanvas__panel {
    @apply w-full;
  }
}

/* Show desktop menu on larger screens */
@media (min-width: 768px) {
  .headerOffCanvas__toggle {
    @apply md:hidden;
  }
}

/* ===================================
   Accessibility
   =================================== */
@media (prefers-reduced-motion: reduce) {
  .headerOffCanvas__panel,
  .headerOffCanvas__overlay,
  .headerOffCanvas__nav-link,
  .headerOffCanvas__hamburger-line {
    animation: none !important;
    transition: none !important;
  }
}

/* Focus trap styles */
.headerOffCanvas__panel:focus-within {
  outline: 2px solid transparent;
}

.headerOffCanvas__nav-link:focus-visible,
.headerOffCanvas__close:focus-visible,
.headerOffCanvas__cta:focus-visible {
  outline: 2px solid var(--color-primary);
  outline-offset: 2px;
}
